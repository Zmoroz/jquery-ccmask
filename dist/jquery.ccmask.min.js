!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(t){"use strict";function e(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,a=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&a.push(e);return a}function a(a,n){for(var s,i=e(n),r=0;r<i.length;r++)s=i[r],"submit"===s?t(a).parents("form").on(s,{ccmask:a},n[s]):t(a).on(s,n[s])}function n(a,n){for(var s,i=e(n),r=0;r<i.length;r++)s=i[r],"submit"===s?t(a).parents("form").off(s,{ccmask:a},n[s]):t(a).off(s,n[s])}function s(t){var e=Math.floor(t.length/4),a=t.split(""),n=[],s=0;do n=n.concat(a.slice(4*s,4*(s+1))),n.push(" ");while(s++<e);return n.join("").replace(/\s\s*$/,"")}function i(t){var e=new Array(t.length-t.slice(-3).length);return e.join("â€¢")+t.slice(-4)}function r(e){if(e.setSelectionRange){var a=t(e).prop("value").length;e.setSelectionRange(a,a)}else t(e).prop("value",t(e).prop("value"));e.scrollTop=999999}var o=t.valHooks.input;t.valHooks.text={get:function(e){return t(e).data("ccmask")?t(e).data("unmaskedValue"):o?o.get.apply(this,arguments):void 0},set:function(e,a){return o&&o.set.apply(this,arguments),t(e).data("ccmask")&&(a=a.replace(/![0-9]+/,"").substring(0,16),t(e).data("unmaskedValue",a),t(e).hasClass("placeholder")||t(e).prop("value",s(i(a)))),a}};var u={mouseup:function(){r(this)},keypress:function(e){var a=String.fromCharCode(e.charCode||e.which);""===this.value&&t(this).val(""),/([0-9])/.test(a)&&t(this).val().length<16&&(""!==t(this).val()&&(a=t(this).val()+a),""!==a&&t(this).val(a)),r(this),e.preventDefault()},keydown:function(e){8===e.keyCode&&(t(this).val(t(this).val().substring(0,t(this).val().length-1)),e.preventDefault())},keyup:function(){""===this.value&&t(this).val(""),r(this)},blur:function(){""===this.value&&t(this).val("")},paste:function(){var e=this;setTimeout(function(){t(e).val(t(e).prop("value"))},100)},submit:function(e){var a=e.data.ccmask;return t(this).data("validator")&&!t(this).data("validator").element(a)?!1:void t(a).ccmask()}};return t.fn.ccmask=function(){return this.each(function(){t(this).data("ccmask")?(t(this).removeData("ccmask"),t(this).prop("value",t(this).data("unmaskedValue")),t(this).removeData("unmaskedValue"),n(this,u)):(t(this).data("unmaskedValue",this.value),t(this).data("ccmask",!0),t(this).val(t(this).data("unmaskedValue")),a(this,u))})},t.fn.ccmask});